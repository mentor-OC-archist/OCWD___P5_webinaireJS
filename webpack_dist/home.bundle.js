(()=>{"use strict";function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function n(){return JSON.parse(localStorage.listFavorites||"[]")}function e(){return n().map((function(t){return t.id}))}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==r(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),n&&Object.assign(this,n),console.log(this)}var n,r,i;return n=t,i=[{key:"render",value:function(t,n){t=new this(t),$(".container")[0].innerHTML+='\n            <div class="col-12 mt-5">\n                <div class="card article">\n                    <div class="card-header ">\n                        <h5 class="card-title d-flex justify-content-between">'.concat(t.title,'<span class="publication-date">').concat(t.convertDate(),'</span></h5>\n                    </div>\n                    <img src="http://localhost:4000/').concat(t.image,'" class="card-img-top">\n                    <span data-id="').concat(t.id,'" class="fa-stack fa-2x addFavorite ').concat(n||e().includes(t.id)?"active":"",'">\n                        <i class="fas fa-star fa-stack-1x"></i>\n                        <i class="far fa-star fa-stack-1x"></i>\n                    </span>\n                    <div class="card-body">\n                        <p class="card-text">').concat(t.content,"</p>\n                    </div>\n                </div>\n            </div>\n        ")}}],(r=[{key:"convertDate",value:function(){var t=new Date(this.publicationDate).toLocaleDateString("fr");return console.log(t),t}}])&&o(n.prototype,r),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,n){if("object"!==a(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}function l(t,n,e){return function(t,n){if(t!==n)throw new TypeError("Private static access of wrong provenance")}(t,n),e}function s(){Array.from($(".addFavorite")).forEach((function(e){e.addEventListener("click",(function(e){var r,o,i=e.target.classList.contains("addFavorite")?e.target:e.target.closest(".addFavorite");i.classList.toggle("active"),i.classList.contains("active")?(r=i.dataset.id,localStorage.listFavorites=JSON.stringify([].concat(function(n){if(Array.isArray(n))return t(n)}(o=n())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:parseInt(r),timestamp:+new Date}]))):function(t){localStorage.listFavorites=JSON.stringify(n().filter((function(n){return n.id!=t})))}(i.dataset.id)}))}))}(function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),n&&Object.assign(this,{articles:n}),console.log(this),this.filterDateAsc()}var n,r,o;return n=t,o=[{key:"render",value:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];fetch("http://localhost:4000/api/article").then((function(t){return t.json()})).then((function(o){new n(r?o.filter((function(t){return e().includes(t.id)})):o).articles.forEach((function(t,n){i.render(t,r)})),l(n,t,s).call(n)})).catch((function(t){console.error("//PUT YOUR CODE HERE IN CASE OF !!!FAILURE!!!",t)})).finally((function(){console.warn("FINAL MESSAGE")}))}}],(r=[{key:"filterDateAsc",value:function(){this.articles=this.articles.sort((function(t,n){return+new Date(t.publicationDate)-+new Date(n.publicationDate)}))}}])&&c(n.prototype,r),o&&c(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t})().render()})();